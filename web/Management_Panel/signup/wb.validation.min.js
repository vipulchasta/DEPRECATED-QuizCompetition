/*
 * jQuery Form Validation Plugin for WYSIWYG Web Builder 10
 * Copyright Pablo Software solutions 2015
 * http://www.wysiwygwebbuilder.com/
 */
(function(c){function p(e){var a=!0;c("input",e).each(function(){(settings=c.data(this,"settings"))&&0==g(this,settings)&&(a=!1)});c("textarea",e).each(function(){(settings=c.data(this,"settings"))&&0==g(this,settings)&&(a=!1)});c("select",e).each(function(){(settings=c.data(this,"settings"))&&0==g(this,settings)&&(a=!1)});return a}function m(e,a){var d="#"+c(e).attr("id")+"_bubble",b=c(e).offset().top,f=c(e).offset().left;"topright"==a.position&&(f+=c(e).width(),"bubble"==a.bubble_class&&(f-=27),
b-=c(d).height(),b-=10);"topleft"==a.position&&(b-=c(d).height(),b-=10,"bubble"==a.bubble_class&&(f-=27));"centerright"==a.position&&(f+=c(e).width()+13);f+=a.offsetx;b+=a.offsety;c(d).css({top:b,left:f})}function l(e,a){c(e).find(".bubbleContent").html(a)}function h(e,a,d){c(e).find(".bubbleContent").css("background-color",a);c(e).find(".bubbleArrow div").css("background-color",a);c(e).find(".bubbleArrow .line1").css("background-color",d);c(e).find(".bubbleArrow .line2").css("background-color",d);
c(e).find(".bubbleContent").css("border-color",d);c(e).find(".bubbleArrow div").css("border-color",d);c(e).find(".bubbleArrow .line3").css("border-color",d)}function k(e,a,d){e="#"+c(e).attr("id")+"_bubble";l(e,d);h(e,a.color_error,a.color_border);"slide"==a.effect?c(e).show("slide",{direction:"right"},500):"fade"==a.effect?c(e).fadeIn(500):c(e).show()}function n(e,a){var d="#"+c(e).attr("id")+"_bubble";"slide"==a.effect?c(d).hide("slide",{direction:"right"},500):"fade"==a.effect?c(d).fadeOut(500,
function(){l(d,a.title_text);h(d,a.color_hint,a.color_border)}):(c(d).hide(),l(d,a.title_text),h(d,a.color_hint,a.color_border))}function g(e,a){var d=null;switch(a.type){case "alphanumeric":d=/\w*/;break;case "number":d=/^[0-9-+]+$/;break;case "email":d=/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i;break;case "custom":d=a.param}pointer=c(e);if(1==a.required||0!=pointer.val().length){var b=!0;d&&(b=d.test(pointer.val()));b&&(""!=a.length_min&&pointer.val().length<parseInt(a.length_min)&&
(b=!1),b&&""!=a.length_max&&pointer.val().length>parseInt(a.length_max)&&(b=!1));if(b){"number"==a.type&&(""!=a.value_min&&(b=eval(pointer.val()+a.expr_min+a.value_min)),b&&""!=a.value_max&&(b=eval(pointer.val()+a.expr_max+a.value_max)));"checkbox"==a.type&&(b=c(e).is(":checked"));"radio"==a.type&&(d=c(e).attr("name"),c("input[name='"+d+"']:checked").val()||(b=!1));"select"==a.type&&(d=c(e).prop("selectedIndex"),-1==d&&(b=!1),0==d&&1==a.disallowfirstchoice&&(b=!1));"ajax"==a.type&&(b=!1,d="value="+
c(e).val(),c.ajax({type:"POST",async:!1,url:a.param,data:d,success:function(a){"true"==a&&(b=!0)}}));if(a.match_id){matchobj=c("#"+a.match_id);matchsettings=matchobj.data("settings");if(""!=matchobj.val()&&matchobj.val()!=pointer.val())return k(e,a,a.match_text),k(matchobj,matchsettings,matchsettings.match_text),!1;""!=matchobj.val()&&n(matchobj,matchsettings);return!0}0==b&&k(e,a,a.error_text);return b}k(e,a,a.error_text);return!1}return!0}c.fn.validate=function(e){return this.each(function(){c.validate(this,
e)})};c.validate=function(e,a){var d={title_text:"Please enter a value",error_text:"The entered value is invalid",color_text:"#00FF00",color_hint:"#00FF00",color_error:"#FF0000",color_border:"#808080",opacity:1,effect:"fade",match_text:"Values must be identical",match_id:null,length_min:"",length_max:"",value_min:"",value_max:"",expr_min:"",expr_max:"",type:"text",required:!0,disallowfirstchoice:!1,nohint:!1,font_family:"Arial",font_size:"13px",font_weight:"normal",font_style:"normal",position:"topright",
offsetx:0,offsety:0,bubble_class:"bubble",param:null};a&&(d=c.extend(d,a));d.title_text=c(e).attr("title");""==d.title_text&&(d.title_text="Enter a value");var b=c(e).attr("id"),f="#"+b+"_bubble",b='<div id="'+b+'_bubble" class="'+d.bubble_class+'">',b=b+'<div class="bubbleContent">'+d.title_text+"</div>",b=b+'<div class="bubbleArrow"><div class="line10">\x3c!-- --\x3e</div>',b=b+'<div class="line9">\x3c!-- --\x3e</div>',b=b+'<div class="line8">\x3c!-- --\x3e</div>',b=b+'<div class="line7">\x3c!-- --\x3e</div>',
b=b+'<div class="line6">\x3c!-- --\x3e</div>',b=b+'<div class="line5">\x3c!-- --\x3e</div>',b=b+'<div class="line4">\x3c!-- --\x3e</div>',b=b+'<div class="line3">\x3c!-- --\x3e</div>',b=b+'<div class="line2">\x3c!-- --\x3e</div>',b=b+'<div class="line1">\x3c!-- --\x3e</div>',b=b+"</div>",b=b+"</div>";c("body").append(b);c(e).removeAttr("title");m(e,d);c(f).css("opacity",d.opacity);h(f,d.color_hint,d.color_border);c(f).find(".bubbleContent").css("color",d.color_text);c(f).find(".bubbleContent").css("font-family",
d.font_family);c(f).find(".bubbleContent").css("font-size",d.font_size);c(f).find(".bubbleContent").css("font-weight",d.font_weight);c(f).find(".bubbleContent").css("font-style",d.font_style);c(f).hide();c.data(e,"settings",d);c(e).focus(function(){var a=d;if(!a.nohint){m(e,a);var b="#"+c(e).attr("id")+"_bubble";"slide"==a.effect?c(b).show("slide",{direction:"right"},500):"fade"==a.effect?c(b).fadeIn(500):c(b).show()}}).blur(function(){var a=d;g(e,a)&&n(e,a)})};c.validate.form=function(c){return p(c)}})(jQuery);